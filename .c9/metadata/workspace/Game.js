{"filter":false,"title":"Game.js","tooltip":"/Game.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":6},"end":{"row":55,"column":7}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":7},"end":{"row":55,"column":8}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":8},"end":{"row":55,"column":9}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":9},"end":{"row":55,"column":10}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":10},"end":{"row":55,"column":11}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":55,"column":10},"end":{"row":55,"column":11}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":55,"column":9},"end":{"row":55,"column":10}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":9},"end":{"row":55,"column":10}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":10},"end":{"row":55,"column":11}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":11},"end":{"row":55,"column":12}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":12},"end":{"row":55,"column":13}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":55,"column":13},"end":{"row":55,"column":14}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":164,"column":42},"end":{"row":165,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":165,"column":0},"end":{"row":165,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":4},"end":{"row":166,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":166,"column":0},"end":{"row":166,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":166,"column":2},"end":{"row":166,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":166,"column":0},"end":{"row":166,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":165,"column":4},"end":{"row":166,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":4},"end":{"row":165,"column":5}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":5},"end":{"row":165,"column":6}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":6},"end":{"row":165,"column":7}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":7},"end":{"row":165,"column":8}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":8},"end":{"row":165,"column":9}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":9},"end":{"row":165,"column":10}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":10},"end":{"row":165,"column":11}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":11},"end":{"row":165,"column":12}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":12},"end":{"row":165,"column":13}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":165,"column":9},"end":{"row":165,"column":13}},"text":"gate"},{"action":"insertText","range":{"start":{"row":165,"column":9},"end":{"row":165,"column":18}},"text":"gateSound"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":18},"end":{"row":165,"column":19}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":19},"end":{"row":165,"column":20}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":20},"end":{"row":165,"column":21}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":21},"end":{"row":165,"column":22}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":22},"end":{"row":165,"column":23}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":23},"end":{"row":165,"column":24}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":24},"end":{"row":165,"column":25}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":25},"end":{"row":165,"column":26}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":26},"end":{"row":165,"column":27}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":27},"end":{"row":165,"column":28}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":28},"end":{"row":165,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":29},"end":{"row":165,"column":30}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":30},"end":{"row":165,"column":31}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":31},"end":{"row":165,"column":32}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":32},"end":{"row":165,"column":33}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":33},"end":{"row":165,"column":34}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":34},"end":{"row":165,"column":35}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":35},"end":{"row":165,"column":37}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":36},"end":{"row":165,"column":38}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":37},"end":{"row":165,"column":43}},"text":"gateFX"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":165,"column":45},"end":{"row":165,"column":46}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":206,"column":37},"end":{"row":207,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":207,"column":0},"end":{"row":207,"column":3}},"text":"\t  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":3},"end":{"row":207,"column":17}},"text":"this.gateSound"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":17},"end":{"row":207,"column":18}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":18},"end":{"row":207,"column":19}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":19},"end":{"row":207,"column":20}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":20},"end":{"row":207,"column":21}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":21},"end":{"row":207,"column":22}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":22},"end":{"row":207,"column":24}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":207,"column":24},"end":{"row":207,"column":25}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":164,"column":26},"end":{"row":164,"column":28}},"text":" 1"},{"action":"insertText","range":{"start":{"row":164,"column":26},"end":{"row":164,"column":27}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":164,"column":27},"end":{"row":164,"column":28}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":164,"column":28},"end":{"row":164,"column":29}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":164,"column":29},"end":{"row":164,"column":30}},"text":"7"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":194,"column":35},"end":{"row":194,"column":36}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":194,"column":35},"end":{"row":194,"column":36}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":195,"column":35},"end":{"row":195,"column":36}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":195,"column":35},"end":{"row":195,"column":36}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":195,"column":38},"end":{"row":196,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":196,"column":0},"end":{"row":196,"column":6}},"text":"      "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":6},"end":{"row":196,"column":7}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":7},"end":{"row":196,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":8},"end":{"row":196,"column":9}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":9},"end":{"row":196,"column":10}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":10},"end":{"row":196,"column":11}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":11},"end":{"row":196,"column":12}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":12},"end":{"row":196,"column":13}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":196,"column":10},"end":{"row":196,"column":13}},"text":"set"},{"action":"insertText","range":{"start":{"row":196,"column":10},"end":{"row":196,"column":31}},"text":"setCollisionBetween()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":30},"end":{"row":196,"column":31}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":31},"end":{"row":196,"column":32}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":32},"end":{"row":196,"column":33}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":33},"end":{"row":196,"column":34}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":34},"end":{"row":196,"column":35}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":35},"end":{"row":196,"column":36}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":36},"end":{"row":196,"column":37}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":37},"end":{"row":196,"column":38}},"text":"7"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":39},"end":{"row":196,"column":40}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":196,"column":37},"end":{"row":196,"column":38}},"text":"7"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":37},"end":{"row":196,"column":38}},"text":"2"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":196,"column":37},"end":{"row":196,"column":38}},"text":"2"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":196,"column":37},"end":{"row":196,"column":38}},"text":"7"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":39,"column":0},"end":{"row":41,"column":0}},"nl":"\n","lines":["",""]},{"action":"insertText","range":{"start":{"row":41,"column":0},"end":{"row":41,"column":16}},"text":"var pickUpSound;"},{"action":"insertText","range":{"start":{"row":41,"column":16},"end":{"row":42,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":42,"column":0},"end":{"row":43,"column":0}},"lines":[""]},{"action":"removeLines","range":{"start":{"row":54,"column":0},"end":{"row":60,"column":0}},"nl":"\n","lines":["var pickUpSound;","var gateSound;","","var tilesetImage;","var tilesetImageRef;",""]},{"action":"removeLines","range":{"start":{"row":63,"column":0},"end":{"row":65,"column":0}},"nl":"\n","lines":["\t\ttilesetImage = BasicGame.gameInfo.levelImage[currentLevel];","\t\ttilesetImageRef = BasicGame.gameInfo.levelImageFile[currentLevel];"]},{"action":"removeText","range":{"start":{"row":76,"column":0},"end":{"row":76,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":73,"column":0},"end":{"row":76,"column":0}},"nl":"\n","lines":["    ","    this.setCollisionForTileset();","    "]},{"action":"removeText","range":{"start":{"row":72,"column":24},"end":{"row":72,"column":55}},"text":"tilesetImage, tilesetImageRef);"},{"action":"removeText","range":{"start":{"row":72,"column":24},"end":{"row":73,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":72,"column":24},"end":{"row":72,"column":68}},"text":"'gbjam3-game-tile-atlas-1', 'tile-atlas-1');"},{"action":"insertText","range":{"start":{"row":72,"column":68},"end":{"row":73,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":73,"column":0},"end":{"row":85,"column":0}},"lines":["    ","    // setCollision, or setCollisionBetween for ranges of tiles","    // map.setCollision(2);","    // map.setCollision(3);","    // map.setCollision(4);","    // map.setCollisionBetween(0,255);","    // map.setCollisionBetween(4, 11);","    // map.setCollisionBetween(36, 40);","    // map.setCollisionBetween(68, 71);","    ","    map.setCollisionBetween(4, 11);","    map.setCollisionBetween(36, 40);"]},{"action":"insertText","range":{"start":{"row":85,"column":0},"end":{"row":85,"column":36}},"text":"    map.setCollisionBetween(68, 71);"},{"action":"removeLines","range":{"start":{"row":98,"column":0},"end":{"row":99,"column":0}},"nl":"\n","lines":[""]},{"action":"removeText","range":{"start":{"row":98,"column":4},"end":{"row":98,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":98,"column":37},"end":{"row":98,"column":41}},"text":"game"},{"action":"insertText","range":{"start":{"row":98,"column":37},"end":{"row":98,"column":42}},"text":"level"},{"action":"removeText","range":{"start":{"row":98,"column":78},"end":{"row":98,"column":82}},"text":"game"},{"action":"insertText","range":{"start":{"row":98,"column":78},"end":{"row":98,"column":83}},"text":"level"},{"action":"removeText","range":{"start":{"row":99,"column":9},"end":{"row":99,"column":26}},"text":"door.open = false"},{"action":"insertText","range":{"start":{"row":99,"column":9},"end":{"row":99,"column":34}},"text":"game.physics.enable(door)"},{"action":"removeText","range":{"start":{"row":100,"column":4},"end":{"row":100,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":100,"column":41},"end":{"row":100,"column":42}},"text":"2"},{"action":"insertText","range":{"start":{"row":100,"column":41},"end":{"row":100,"column":42}},"text":"1"},{"action":"removeText","range":{"start":{"row":101,"column":4},"end":{"row":101,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":101,"column":40},"end":{"row":101,"column":41}},"text":"2"},{"action":"insertText","range":{"start":{"row":101,"column":40},"end":{"row":101,"column":41}},"text":"1"},{"action":"removeText","range":{"start":{"row":102,"column":4},"end":{"row":102,"column":9}},"text":"this."},{"action":"insertText","range":{"start":{"row":102,"column":4},"end":{"row":102,"column":22}},"text":"door.open = false;"},{"action":"insertText","range":{"start":{"row":102,"column":22},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":103,"column":0},"end":{"row":103,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":105,"column":0},"end":{"row":109,"column":0}},"nl":"\n","lines":["    this.game.physics.enable(this.door);","    ","    this.doorGroup = this.add.group();","    this.doorGroup.add(this.door);"]},{"action":"removeText","range":{"start":{"row":147,"column":0},"end":{"row":147,"column":51}},"text":"    // TODO: grapes.body.collideWorldBounds = true;"},{"action":"removeText","range":{"start":{"row":146,"column":51},"end":{"row":147,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":155,"column":39},"end":{"row":155,"column":40}},"text":"0"},{"action":"removeText","range":{"start":{"row":155,"column":43},"end":{"row":155,"column":44}},"text":"2"},{"action":"removeText","range":{"start":{"row":155,"column":45},"end":{"row":155,"column":51}},"text":" * i, "},{"action":"insertText","range":{"start":{"row":155,"column":45},"end":{"row":155,"column":46}},"text":","},{"action":"removeText","range":{"start":{"row":158,"column":4},"end":{"row":158,"column":9}},"text":"this."},{"action":"removeLines","range":{"start":{"row":159,"column":0},"end":{"row":162,"column":0}},"nl":"\n","lines":["    this.theme = this.add.audio('theme');","    this.theme.play('', 0, 0.7, true, true);","    this.gateSound = this.add.audio('gateFX');"]},{"action":"insertText","range":{"start":{"row":169,"column":0},"end":{"row":169,"column":29}},"text":"      if (currentGrapes >= 5)"},{"action":"insertText","range":{"start":{"row":169,"column":29},"end":{"row":170,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":170,"column":0},"end":{"row":174,"column":0}},"lines":["      {","        currentGrapes = 0;","        this.state.start('MainMenu');","      }"]},{"action":"removeText","range":{"start":{"row":208,"column":0},"end":{"row":208,"column":3}},"text":"\t},"},{"action":"removeLines","range":{"start":{"row":186,"column":0},"end":{"row":208,"column":0}},"nl":"\n","lines":["\t","\tsetCollisionForTileset: function() {","\t  if(tilesetImage === 'gbjam3-game-tile-atlas-1')","\t  {","\t    // setCollision, or setCollisionBetween for ranges of tiles","      map.setCollisionBetween(4, 11);","      map.setCollisionBetween(36, 43);","      map.setCollisionBetween(68, 75);","      map.setCollisionBetween(100, 107);","\t  }","\t  else","\t  {","\t    // WARNING: No collision!","\t  }","\t},","","\t//  Update-related functions","\t","\topenDoor: function () {","\t  this.door.animations.play('open');","\t  this.gateSound.play();","\t  this.door.open = true;"]},{"action":"insertText","range":{"start":{"row":186,"column":0},"end":{"row":187,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":187,"column":0},"end":{"row":187,"column":29}},"text":"\t//  Update-related functions"},{"action":"removeText","range":{"start":{"row":191,"column":3},"end":{"row":191,"column":8}},"text":"this."},{"action":"insertText","range":{"start":{"row":261,"column":0},"end":{"row":261,"column":54}},"text":"    if (this.input.keyboard.isDown(Phaser.Keyboard.B))"},{"action":"insertText","range":{"start":{"row":261,"column":54},"end":{"row":262,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":262,"column":0},"end":{"row":267,"column":0}},"lines":["    {","      this.buttons.forEach(function (b) {","        b.down = false;","      });","    }"]},{"action":"removeText","range":{"start":{"row":280,"column":0},"end":{"row":280,"column":5}},"text":"     "},{"action":"removeLines","range":{"start":{"row":276,"column":0},"end":{"row":280,"column":0}},"nl":"\n","lines":["","    this.game.physics.arcade.collide(this.door, collision_layer);","    if(this.door.open && this.player.body.x <= 45)","    {"]},{"action":"insertText","range":{"start":{"row":276,"column":0},"end":{"row":276,"column":27}},"text":"    if (door.open === true)"},{"action":"insertText","range":{"start":{"row":276,"column":27},"end":{"row":277,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":277,"column":0},"end":{"row":278,"column":0}},"lines":["    {"]},{"action":"insertText","range":{"start":{"row":278,"column":0},"end":{"row":278,"column":57}},"text":"      this.game.physics.arcade.overlap(this.player, door,"},{"action":"removeText","range":{"start":{"row":278,"column":76},"end":{"row":278,"column":77}},"text":"("},{"action":"insertText","range":{"start":{"row":278,"column":76},"end":{"row":278,"column":88}},"text":", null, this"},{"action":"insertText","range":{"start":{"row":303,"column":0},"end":{"row":303,"column":24}},"text":"\topenDoor: function () {"},{"action":"insertText","range":{"start":{"row":303,"column":24},"end":{"row":304,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":304,"column":0},"end":{"row":307,"column":0}},"lines":["\t  door.play('open');","\t  door.open = true;","\t},"]},{"action":"removeLines","range":{"start":{"row":310,"column":0},"end":{"row":311,"column":0}},"nl":"\n","lines":["\t  this.theme.stop();"]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":40,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":40,"column":0},"end":{"row":41,"column":0}},"lines":[""]},{"action":"removeLines","range":{"start":{"row":43,"column":0},"end":{"row":45,"column":0}},"nl":"\n","lines":["var pickUpSound;",""]},{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":16}},"text":"var pickUpSound;"},{"action":"insertText","range":{"start":{"row":54,"column":16},"end":{"row":55,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":55,"column":0},"end":{"row":60,"column":0}},"lines":["var gateSound;","","var tilesetImage;","var tilesetImageRef;",""]},{"action":"insertText","range":{"start":{"row":69,"column":0},"end":{"row":69,"column":61}},"text":"\t\ttilesetImage = BasicGame.gameInfo.levelImage[currentLevel];"},{"action":"insertText","range":{"start":{"row":69,"column":61},"end":{"row":70,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":70,"column":0},"end":{"row":71,"column":0}},"lines":["\t\ttilesetImageRef = BasicGame.gameInfo.levelImageFile[currentLevel];"]},{"action":"removeText","range":{"start":{"row":93,"column":0},"end":{"row":93,"column":36}},"text":"    map.setCollisionBetween(68, 71);"},{"action":"removeLines","range":{"start":{"row":81,"column":0},"end":{"row":93,"column":0}},"nl":"\n","lines":["    ","    // setCollision, or setCollisionBetween for ranges of tiles","    // map.setCollision(2);","    // map.setCollision(3);","    // map.setCollision(4);","    // map.setCollisionBetween(0,255);","    // map.setCollisionBetween(4, 11);","    // map.setCollisionBetween(36, 40);","    // map.setCollisionBetween(68, 71);","    ","    map.setCollisionBetween(4, 11);","    map.setCollisionBetween(36, 40);"]},{"action":"removeText","range":{"start":{"row":80,"column":24},"end":{"row":80,"column":68}},"text":"'gbjam3-game-tile-atlas-1', 'tile-atlas-1');"},{"action":"removeText","range":{"start":{"row":80,"column":24},"end":{"row":81,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":80,"column":24},"end":{"row":80,"column":55}},"text":"tilesetImage, tilesetImageRef);"},{"action":"insertText","range":{"start":{"row":80,"column":55},"end":{"row":81,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":81,"column":0},"end":{"row":84,"column":0}},"lines":["    ","    this.setCollisionForTileset();","    "]},{"action":"insertText","range":{"start":{"row":84,"column":0},"end":{"row":84,"column":4}},"text":"    "},{"action":"insertText","range":{"start":{"row":97,"column":0},"end":{"row":98,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":98,"column":4},"end":{"row":98,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":98,"column":42},"end":{"row":98,"column":47}},"text":"level"},{"action":"insertText","range":{"start":{"row":98,"column":42},"end":{"row":98,"column":46}},"text":"game"},{"action":"removeText","range":{"start":{"row":98,"column":82},"end":{"row":98,"column":87}},"text":"level"},{"action":"insertText","range":{"start":{"row":98,"column":82},"end":{"row":98,"column":86}},"text":"game"},{"action":"removeText","range":{"start":{"row":99,"column":9},"end":{"row":99,"column":34}},"text":"game.physics.enable(door)"},{"action":"insertText","range":{"start":{"row":99,"column":9},"end":{"row":99,"column":26}},"text":"door.open = false"},{"action":"insertText","range":{"start":{"row":100,"column":4},"end":{"row":100,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":100,"column":46},"end":{"row":100,"column":47}},"text":"1"},{"action":"insertText","range":{"start":{"row":100,"column":46},"end":{"row":100,"column":47}},"text":"2"},{"action":"insertText","range":{"start":{"row":101,"column":4},"end":{"row":101,"column":9}},"text":"this."},{"action":"removeText","range":{"start":{"row":101,"column":45},"end":{"row":101,"column":46}},"text":"1"},{"action":"insertText","range":{"start":{"row":101,"column":45},"end":{"row":101,"column":46}},"text":"2"},{"action":"removeText","range":{"start":{"row":104,"column":0},"end":{"row":104,"column":4}},"text":"    "},{"action":"removeLines","range":{"start":{"row":103,"column":0},"end":{"row":104,"column":0}},"nl":"\n","lines":["    door.animations.play('close');"]},{"action":"removeText","range":{"start":{"row":102,"column":4},"end":{"row":102,"column":22}},"text":"door.open = false;"},{"action":"removeText","range":{"start":{"row":102,"column":4},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":102,"column":4},"end":{"row":102,"column":39}},"text":"this.door.animations.play('close');"},{"action":"insertText","range":{"start":{"row":102,"column":39},"end":{"row":103,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":103,"column":0},"end":{"row":107,"column":0}},"lines":["    ","    this.game.physics.enable(this.door);","    ","    this.doorGroup = this.add.group();"]},{"action":"insertText","range":{"start":{"row":107,"column":0},"end":{"row":107,"column":34}},"text":"    this.doorGroup.add(this.door);"},{"action":"insertText","range":{"start":{"row":149,"column":51},"end":{"row":150,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":150,"column":0},"end":{"row":150,"column":51}},"text":"    // TODO: grapes.body.collideWorldBounds = true;"},{"action":"removeText","range":{"start":{"row":159,"column":39},"end":{"row":159,"column":40}},"text":"0"},{"action":"insertText","range":{"start":{"row":159,"column":42},"end":{"row":159,"column":43}},"text":"2"},{"action":"removeText","range":{"start":{"row":159,"column":45},"end":{"row":159,"column":46}},"text":","},{"action":"insertText","range":{"start":{"row":159,"column":45},"end":{"row":159,"column":51}},"text":" * i, "},{"action":"insertText","range":{"start":{"row":162,"column":4},"end":{"row":162,"column":9}},"text":"this."},{"action":"insertText","range":{"start":{"row":163,"column":0},"end":{"row":163,"column":41}},"text":"    this.theme = this.add.audio('theme');"},{"action":"insertText","range":{"start":{"row":163,"column":41},"end":{"row":164,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":164,"column":0},"end":{"row":166,"column":0}},"lines":["    this.theme.play('', 0, 0.7, true, true);","    this.gateSound = this.add.audio('gateFX');"]},{"action":"removeLines","range":{"start":{"row":176,"column":0},"end":{"row":181,"column":0}},"nl":"\n","lines":["      if (currentGrapes >= 5)","      {","        currentGrapes = 0;","        this.state.start('MainMenu');","      }"]},{"action":"removeText","range":{"start":{"row":189,"column":0},"end":{"row":189,"column":29}},"text":"\t//  Update-related functions"},{"action":"removeLines","range":{"start":{"row":188,"column":0},"end":{"row":189,"column":0}},"nl":"\n","lines":[""]},{"action":"insertText","range":{"start":{"row":188,"column":0},"end":{"row":188,"column":1}},"text":"\t"},{"action":"insertText","range":{"start":{"row":188,"column":1},"end":{"row":189,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":189,"column":0},"end":{"row":210,"column":0}},"lines":["\tsetCollisionForTileset: function() {","\t  if(tilesetImage === 'gbjam3-game-tile-atlas-1')","\t  {","\t    // setCollision, or setCollisionBetween for ranges of tiles","      map.setCollisionBetween(4, 11);","      map.setCollisionBetween(36, 43);","      map.setCollisionBetween(68, 75);","      map.setCollisionBetween(100, 107);","\t  }","\t  else","\t  {","\t    // WARNING: No collision!","\t  }","\t},","","\t//  Update-related functions","\t","\topenDoor: function () {","\t  this.door.animations.play('open');","\t  this.gateSound.play();","\t  this.door.open = true;"]},{"action":"insertText","range":{"start":{"row":210,"column":0},"end":{"row":210,"column":3}},"text":"\t},"},{"action":"insertText","range":{"start":{"row":214,"column":3},"end":{"row":214,"column":8}},"text":"this."},{"action":"removeLines","range":{"start":{"row":284,"column":0},"end":{"row":290,"column":0}},"nl":"\n","lines":["    if (this.input.keyboard.isDown(Phaser.Keyboard.B))","    {","      this.buttons.forEach(function (b) {","        b.down = false;","      });","    }"]},{"action":"removeText","range":{"start":{"row":295,"column":0},"end":{"row":295,"column":57}},"text":"      this.game.physics.arcade.overlap(this.player, door,"},{"action":"removeLines","range":{"start":{"row":293,"column":0},"end":{"row":295,"column":0}},"nl":"\n","lines":["    if (door.open === true)","    {"]},{"action":"insertText","range":{"start":{"row":293,"column":0},"end":{"row":294,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":294,"column":0},"end":{"row":297,"column":0}},"lines":["    this.game.physics.arcade.collide(this.door, collision_layer);","    if(this.door.open && this.player.body.x <= 45)","    {"]},{"action":"insertText","range":{"start":{"row":297,"column":0},"end":{"row":297,"column":5}},"text":"     "},{"action":"removeText","range":{"start":{"row":297,"column":24},"end":{"row":297,"column":36}},"text":", null, this"},{"action":"insertText","range":{"start":{"row":297,"column":24},"end":{"row":297,"column":25}},"text":"("},{"action":"removeLines","range":{"start":{"row":322,"column":0},"end":{"row":326,"column":0}},"nl":"\n","lines":["\topenDoor: function () {","\t  door.play('open');","\t  door.open = true;","\t},"]},{"action":"insertText","range":{"start":{"row":325,"column":0},"end":{"row":325,"column":21}},"text":"\t  this.theme.stop();"},{"action":"insertText","range":{"start":{"row":325,"column":21},"end":{"row":326,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":281,"column":11},"end":{"row":281,"column":23}},"text":"goToLevel();"},{"action":"insertText","range":{"start":{"row":281,"column":11},"end":{"row":281,"column":12}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":12},"end":{"row":281,"column":13}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":13},"end":{"row":281,"column":14}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":14},"end":{"row":281,"column":15}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":15},"end":{"row":281,"column":16}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":16},"end":{"row":281,"column":17}},"text":"F"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":17},"end":{"row":281,"column":18}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":18},"end":{"row":281,"column":19}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":19},"end":{"row":281,"column":20}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":20},"end":{"row":281,"column":21}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":281,"column":11},"end":{"row":281,"column":21}},"text":"levelFinis"},{"action":"insertText","range":{"start":{"row":281,"column":11},"end":{"row":281,"column":26}},"text":"levelFinished()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":281,"column":26},"end":{"row":281,"column":27}},"text":";"}]}]]},"ace":{"folds":[],"scrolltop":3538.5,"scrollleft":0,"selection":{"start":{"row":281,"column":27},"end":{"row":281,"column":27},"isBackwards":false},"options":{"tabSize":2,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":251,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1407636911082,"hash":"65dfd2380cde5c04846182e6672f1ee5365c97bf"}